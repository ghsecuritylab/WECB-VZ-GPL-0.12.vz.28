<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>MoCA Status</title>
<%actInclude("wcb_common.html")%>

<script language="javascript">

var id_mocachannel, id_mocaprivacy, id_mocapassword;

function doLoad()
{
	id_mocaprivacy = document.getElementById("id_mocaprivacy");
	id_mocachannel = document.getElementById("id_mocachannel");	
	id_mocapassword = document.getElementById("id_mocapassword");	

	doGetMoca();
}

function doGetMoca()
{
	var params = "&command=getvalue";		
	ajaxPost("mocasetup.cgi", params, resGetValue);
}

function resGetValue(message)
{
	var messageArray = message.split("||");
	
	if(messageArray.length > 1)
	{			
		for(var i = 0; i < messageArray.length - 1; i++)
		{
			var index = 0;
			var mocaArray = messageArray[i].split("|");
			var moca_channel = changeString(mocaArray[index++]);
			var moca_privacy = changeString(mocaArray[index++]);
			var moca_password = changeString(mocaArray[index++]);

			if(moca_privacy == "0") 
		    	id_mocaprivacy.innerHTML = "Disabled";  
		  	else
		  	{
		    	id_mocaprivacy.innerHTML = "Enabled";
		    	id_mocapassword.innerHTML = moca_password;
		  	}

			if(moca_channel == "0x0000000015554000")
			{
			    id_mocachannel.innerHTML = "Automatic";
			}
			else if(moca_channel == "0x0000000000004000")
			{
				id_mocachannel.innerHTML = "1-1150MHz";
			}
			else if(moca_channel == "0x0000000000010000")
			{
				id_mocachannel.innerHTML = "2-1200MHz";
			}
			else if(moca_channel == "0x0000000000040000")
			{
				id_mocachannel.innerHTML = "3-1250MHz";
			}
			else if(moca_channel == "0x0000000000100000")
			{
				id_mocachannel.innerHTML = "4-1300MHz";
			}
			else if(moca_channel == "0x0000000000400000")
			{
				id_mocachannel.innerHTML = "5-1350MHz";
			}
			else if(moca_channel == "0x0000000001000000")
			{
				id_mocachannel.innerHTML = "6-1400MHz";
			}
			else if(moca_channel == "0x0000000004000000")
			{
				id_mocachannel.innerHTML = "7-1450MHz";
			}
			else if(moca_channel == "0x0000000010000000")
			{
				id_mocachannel.innerHTML = "8-1500MHz"; 
			}
		}
	}
}
		
</script>
</head>

<body>
	<div id="wrapper">    
		<%actInclude("top_nav.html")%>    
		<%actInclude("left_moca.html")%>
		
		<div id="content_right">
		    <div id="content_right_header"></div>
		    <div id="content_right_contentarea">
	        	<h1>MoCA Status</h1>

				<p align="left">
					<b>NOTE: </b>
					Only advanced technical users should use this feature, all rates are Mbps.
					<br>
					* next to Adapter or Device represents the Network Coordinator
				</p>

			    <table width="88%" border="0" cellpadding="1" cellspacing="0">			    
				    <tr bgcolor="#e0e5f1">
				     <td class="GRID_NO_RIGHT" width="50%"><b>Channel</b>:</td>
				     <td class="GRID_NO_LEFT" width="50%"><span id='id_mocachannel'></span></td>
				    </tr>
				    <tr bgcolor="#f1f3f9">
				     <td class="GRID_NO_RIGHT" width="50%"><b>Privacy</b>:</td>
				     <td class="GRID_NO_LEFT" width="50%"><span id='id_mocaprivacy'></span></td>
				    </tr>
				    <tr bgcolor="#e0e5f1">
				     <td class="GRID_NO_RIGHT" width="50%"><b>Password</b>:</td>
				     <td class="GRID_NO_LEFT" width="50%"><span id='id_mocapassword'></span></td>
				    </tr>			    
			    </table>

			    <table width="88%" border="0" cellpadding="4" cellspacing="0">
				   <%actTable("moca", "list")%>
			    </table>
			    
	        	<div class="clear_left"></div>
	        </div>
	        <div id="content_right_footer"></div>
		</div>
        <div class="clear_left"></div>
   		<%actInclude("wcb_footer.html")%>
	</div>
</body>
</html>